(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{35:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(11),c=n.n(i),s=(n(35),n(60)),o=n(61),l=n(62),u=n(45),d=n(14),b=n(5),m=function(e,t){for(var n=[],r=0;r<e;r++){for(var a=[],i=0;i<e;i++)a.push({isMine:!1});n.push(a)}for(var c=0;c<t;c++)j(n,e);return n},j=function(e,t){for(var n=v(t),r=Object(d.a)(n,2),a=r[0],i=r[1];!f(e,t,a,i);){var c=v(t),s=Object(d.a)(c,2);a=s[0],i=s[1]}e[a][i].isMine=!0},f=function(e,t,n,r){return!h(e,t,n,r)&&8!==O(e,t,n,r)},O=function(e,t,n,r){return[h(e,t,n+1,r),h(e,t,n-1,r),h(e,t,n,r+1),h(e,t,n,r-1),h(e,t,n-1,r-1),h(e,t,n-1,r+1),h(e,t,n+1,r-1),h(e,t,n+1,r+1)].filter((function(e){return e})).length},h=function(e,t,n,r){return!(n<0||n>=t||r<0||r>=t)&&e[n][r].isMine},v=function(e){return[Math.floor(Math.random()*e),Math.floor(Math.random()*e)]},p=function e(t,n,r,a,i,c){if(!(r<0||r>=n||a<0||a>=n)&&0!==t[r][a].value){var s=O(t,n,r,a);t[r][a].value=s,t[r][a].shown=!0,0===t[r][a].value&&(i===r+1&&c===a-1||e(t,n,r+1,a-1,r,a),i===r+1&&c===a||e(t,n,r+1,a,r,a),i===r+1&&c===a+1||e(t,n,r+1,a+1,r,a),i===r-1&&c===a-1||e(t,n,r-1,a-1,r,a),i===r-1&&c===a||e(t,n,r-1,a,r,a),i===r-1&&c===a-1||e(t,n,r-1,a-1,r,a),i===r&&c===a-1||e(t,n,r,a-1,r,a),i===r&&c===a+1||e(t,n,r,a+1,r,a))}},g=function(e,t,n,r){var a=O(e,t,n,r);return a?e.map((function(e,t){return t!==n?e:e.map((function(e,t){return t!==r?e:Object(b.a)(Object(b.a)({},e),{},{shown:!0,value:a})}))})):function(e,t,n,r){return e[n][r].value=0,e[n][r].shown=!0,p(e,t,n+1,r,n,r),p(e,t,n+1,r-1,n,r),p(e,t,n+1,r+1,n,r),p(e,t,n,r-1,n,r),p(e,t,n,r+1,n,r),p(e,t,n-1,r,n,r),p(e,t,n-1,r-1,n,r),p(e,t,n-1,r+1,n,r),Array.from(e)}(e,t,n,r)},z=function(e,t,n,r){return e.map((function(e,t){return t!==n?e:e.map((function(e,t){return t!==r?e:Object(b.a)(Object(b.a)({},e),{},{isMarked:!e.isMarked})}))}))},x=n(3),M=Object(r.createContext)(),k={minesboard:[],size:20},w=function(e,t){switch(t.type){case"initialize":return Object(b.a)(Object(b.a)({},k),{},{size:e.size,minesboard:m(e.size,60)});case"incrementSize":return Object(b.a)(Object(b.a)({},e),{},{size:e.size+1,minesboard:m(e.size+1,60)});case"decrementSize":return Object(b.a)(Object(b.a)({},e),{},{size:e.size-1,minesboard:m(e.size-1,60)});case"updateBoard":return Object(b.a)(Object(b.a)({},e),{},{minesboard:t.minesboard});case"gameOver":return Object(b.a)(Object(b.a)({},e),{},{isGameOver:!0});case"started":return Object(b.a)(Object(b.a)({},e),{},{started:!0});default:return e}},C=function(e){var t=e.children,n=Object(r.useReducer)(w,k),a=Object(d.a)(n,2),i=a[0],c=a[1],s=i.minesboard,o=i.size,l=i.started,u=i.isGameOver,b={incrementSize:function(){return c({type:"incrementSize"})},decrementSize:function(){return c({type:"decrementSize"})},initializeMinesField:Object(r.useCallback)((function(){return c({type:"initialize"})}),[]),clearField:function(e,t){if(!s[e][t].shown&&!u){if(l||c({action:"started"}),h(s,o,e,t))return c({type:"gameOver"}),void alert("You have stepped on a mine");c({type:"updateBoard",minesboard:g(s,o,e,t)})}},markField:function(e,t){s[e][t].shown||u||c({type:"updateBoard",minesboard:z(s,0,e,t)})}};return Object(x.jsx)(M.Provider,{value:{state:i,actions:b},children:t})},y=M,F=n(44),A=Object(F.a)({cell:{height:25,width:25,border:"1px solid gray",backgroundColor:function(e){var t=e.cell,n=e.isGameOver;return console.log(n),t.isMine&&n?"#ff9595":t.isMarked?"#f7bba1":t.shown?"#e7e6f7":"#dbdaf7"}}}),S=function(e){var t=e.cell,n=e.clearField,a=e.markField,i=Object(r.useContext)(y).state.isGameOver,c=A({cell:t,isGameOver:i});return Object(x.jsx)("div",{className:c.cell,onClick:n,onContextMenu:function(e){e.preventDefault(),a()},children:i&&t.isMine?"*":t.isMarked?"?":"*"===t.value?".":0===t.value?"":t.value})},N=Object(F.a)({minesboard:{margin:"0 auto",gridArea:"minesboard",height:function(e){return 25*e.size+2},width:function(e){return 25*e.size+2},border:"1px solid black",display:"grid",gridTemplateColumns:function(e){var t=e.size;return"repeat(".concat(t,", auto)")}}}),T=function(){var e=Object(r.useContext)(y),t=e.state,n=e.actions,a=t.minesboard,i=t.size,c=n.clearField,s=n.markField,o=N({size:i});return Object(x.jsx)("div",{className:o.minesboard,children:a.map((function(e,t){return e.map((function(e,n){return Object(x.jsx)(S,{cell:e,clearField:function(){return c(t,n)},markField:function(){return s(t,n)}},"cell-".concat(t,"-").concat(n))}))}))})},B=Object(s.a)({minesweeper:{display:"grid",width:800,margin:"0 auto",gridTemplateColumns:"repeat(3, auto)",gap:20,textAlign:"center",gridTemplateAreas:'\n        ". header ."\n        ". options restart"\n        "total available time"\n        "minesboard minesboard minesboard"\n        '},header:{gridArea:"header"},options:{gridArea:"options"},time:{gridArea:"time",justifyItem:"center"},restart:{gridArea:"restart"},total:{gridArea:"total"},available:{gridArea:"available"}}),G=function(){var e=Object(r.useContext)(y),t=e.actions,n=e.state,a=t.incrementSize,i=t.decrementSize,c=t.initializeMinesField;Object(r.useEffect)(c,[c]);var s=B(),d=n.size;return Object(x.jsxs)("div",{className:s.minesweeper,children:[Object(x.jsx)(o.a,{className:s.header,variant:"h3",children:"Minesweeper"}),Object(x.jsxs)(l.a,{fullWidth:!0,className:s.options,variant:"contained",color:"primary",children:[Object(x.jsx)(u.a,{onClick:a,children:"+"}),Object(x.jsxs)(u.a,{children:[d," X ",d]}),Object(x.jsx)(u.a,{onClick:i,children:"-"})]}),Object(x.jsx)(u.a,{fullWidth:!0,className:s.restart,variant:"outlined",color:"primary",onClick:c,children:"Restart"}),Object(x.jsx)(o.a,{className:s.total,children:"Total Mines: "}),Object(x.jsx)(o.a,{className:s.available,children:"Available Mines"}),Object(x.jsx)(o.a,{className:s.time}),Object(x.jsx)(T,{})]})};var I=function(){return Object(x.jsx)(C,{children:Object(x.jsx)(G,{})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};c.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(I,{})}),document.getElementById("root")),P()}},[[43,1,2]]]);
//# sourceMappingURL=main.a7a745b9.chunk.js.map